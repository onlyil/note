## XSS

### 反射型

相关步骤:

1. 用户点击加入恶意参数的链接
2. 服务器收到请求，将链接中的参数取出，拼接成html返回给浏览器
3. 浏览器接收并渲染html，发现`script`标签并执行恶意代码

反射型XSS特点：

- 非持久性
- 表现形式为请求到达服务器，服务器把未处理或转义的html原样输出到浏览器中，故称它为反射型XSS攻击
- 反射型XSS通常出现在网站搜索栏、登录处等

### 存储型

相关步骤:

1. 攻击者将恶意脚本提交到网站的数据库中
2. 用户请求目标网站
3. 服务器收到请求，将恶意代码从数据库取出，拼接成html返回给浏览器
4. 浏览器接收并渲染html，发现`script`标签并执行恶意代码

存储型XSS特点：

- 持久性，若网站不做处理，则攻击一直存在。
- 存储型XSS通常出现在评论、留言区等。

### DOM 型

相关步骤:

1. 用户点击加入恶意参数的链接
2. 浏览器接收并渲染html，前端js取出并执行了url参数，相当于执行了恶意脚本

DOM型XSS特点：

- 非持久性
- 利用原生js修改页面结构的特点来实现攻击目的

### 防范方法

- 对HTML进行转义
- 添加cookie的`httpOnly`数据
- 预防`Dom型XSS`时，前端需谨慎使用`innerHTML`、`outerHTML`、`document.write()`

## CSRF

相关步骤:

1. 用户点击诱导链接
2. 进入恶意网站
3. 利用用户在原网站的登录凭证自动发起恶意请求或继续诱导用户点击请求执行恶意操作

### 防范方法

- 利用Cookie的`SameSite`属性
- 验证请求来源



